(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},13:function(e){e.exports={restaurants:[{name:"Cool Joint",zomatoID:53080,location:{lat:12.9288091,lng:77.5858992}},{name:"Taaza Thindi",zomatoID:58576,location:{lat:12.9228423,lng:77.593241}},{name:"Rooftop Cafe",zomatoID:60229,location:{lat:12.9289654,lng:77.5861852}},{name:"Food Springs",zomatoID:17956705,location:{lat:12.9270219,lng:77.585028}},{name:"Bharmins Tiffin and Coffee",zomatoID:60097,location:{lat:12.9233466,lng:77.5839026}},{name:"Bengaluru Cafe",zomatoID:18630678,location:{lat:12.9392477,lng:77.5838674}},{name:"Karnataka Bhel House",zomatoID:59919,location:{lat:12.9399674,lng:77.5819576}}]}},14:function(e,t,a){e.exports=a(37)},19:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),s=a.n(o),i=(a(19),a(1)),c=a(2),l=a(4),u=a(3),m=a(5),d=(a(11),a(9)),h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={viewportBounds:{},clickedRestaurant:{},activeRestaurant:{},showingInfoWindow:!0,center:{},url:"",address:"",cuisines:"",rating:"",costForTwo:""},a.setViewportBounds=function(){var e=new a.props.google.maps.LatLngBounds,t=!0,n=!1,r=void 0;try{for(var o,s=a.props.restaurants[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;e.extend(i.location)}}catch(c){n=!0,r=c}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}a.setState({viewportBounds:e})},a.onMarkerClick=function(e,t){var n=a.props.restaurants.filter(function(t){return t.name===e.title});a.setState({showingInfoWindow:!0,activeRestaurant:t,clickedRestaurant:n[0]})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setViewportBounds(),this.setState({center:this.props.centerCoords.location})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Map"},r.a.createElement(d.Map,{google:this.props.google,style:{width:"100%",height:"100%"},center:this.state.center,bounds:this.state.viewportBounds},this.props.restaurants.map(function(t,a){return r.a.createElement(d.Marker,{key:a,name:t.name,title:t.name,zomatoID:t.zomatoID,position:{lat:t.location.lat,lng:t.location.lng},onClick:e.onMarkerClick,animation:e.state.activeRestaurant.name===t.name&&e.props.google.maps.Animation.BOUNCE})}),r.a.createElement(d.InfoWindow,{marker:this.state.activeRestaurant,visible:this.state.showingInfoWindow},this.props.zomatoAPICallsExceeded?r.a.createElement("div",null,r.a.createElement("a",{href:this.state.clickedRestaurant.url},r.a.createElement("h1",null,this.state.clickedRestaurant.name)),r.a.createElement("h2",null,this.state.clickedRestaurant.address),r.a.createElement("h3",null,this.state.clickedRestaurant.cuisines," |"," ",this.state.clickedRestaurant.rating,"\u2605 | About \u20b9",this.state.clickedRestaurant.costForTwo," ","for two")):r.a.createElement("div",null,r.a.createElement("h1",null,this.state.clickedRestaurant.name),r.a.createElement("h3",null,"Exceeded Zomato API calls quota")))))}}]),t}(n.Component),f=Object(d.GoogleApiWrapper)({apiKey:"AIzaSyDgLyKemKHxzniLby6HA2MmL7LkXPFuIGg"})(h),p=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sidebarOpen:!1},a.onHamburgerClick=function(){var e=document.querySelector(".sidebar");a.state.sidebarOpen?(e.style.transform="translateX(-250px)",a.setState({sidebarOpen:!1})):(e.style.transform="translateX(0px)",a.setState({sidebarOpen:!0}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navigation",role:"navigation"},r.a.createElement("div",{className:"navbar-container"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("button",{"aria-label":"Hamburger Menu",tabIndex:"0",className:"hamburger-container",onClick:this.onHamburgerClick},r.a.createElement("div",{className:"hamburger-bar"}),r.a.createElement("div",{className:"hamburger-bar"}),r.a.createElement("div",{className:"hamburger-bar"})),r.a.createElement("div",{className:"navbar-title"},r.a.createElement("h1",null,"Neighborhood Restaurants Project")))),r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"restaurant-input",placeholder:"Enter restaurant name","aria-label":"Search Filter",type:"text",onChange:function(t){return e.props.onQuery(t.target.value)}}),r.a.createElement("label",{htmlFor:"restaurant-input"},"Enter restaurant name")),r.a.createElement("ul",{className:"restaurants"},this.props.restaurants.map(function(t){return r.a.createElement("li",{tabIndex:"0",role:"button","aria-label":"Restaurant Location",id:t.zomatoID,key:t.zomatoID,onClick:function(){return e.props.setActiveRestaurant(t.name)}},t.name)}))))}}]),t}(n.Component),g=function(e){var t=new Headers;t.append("user-key","35b8f8f1e89eded996602e47567a11c3");var a="https://developers.zomato.com/api/v2.1/restaurant?res_id=".concat(e),n=new Request(a,{method:"GET",headers:t});return fetch(n).catch(function(e){return console.log("Error ".concat(e," Failed to fetch data from Zomato API"))}).then(function(e){return e.json()})},v=a(13),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={restaurants:v.restaurants,currentRestaurants:[],zomatoAPICallsExceeded:!0},a.fetchZomatoInfo=function(){var e=a.state.restaurants.map(function(e){return g(e.zomatoID).then(function(t){e.url=t.url,e.address=t.location.address,e.cuisines=t.cuisines,e.rating=t.user_rating.aggregate_rating,e.costForTwo=t.average_cost_for_two}).catch(function(){return a.setState({zomatoAPICallsExceeded:!1})}),e});a.setState({currentRestaurants:e})},a.filterRestaurants=function(e){e||a.setState({currentRestaurants:[]});var t=a.state.restaurants.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())});a.setState({currentRestaurants:t})},a.setActiveRestaurant=function(e){document.querySelector('[title="'.concat(e,'"]')).click()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchZomatoInfo()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,{restaurants:this.state.currentRestaurants,onQuery:this.filterRestaurants,setActiveRestaurant:this.setActiveRestaurant}),r.a.createElement(f,{restaurants:this.state.currentRestaurants,centerCoords:this.state.restaurants[0].location,activeRestaurant:this.state.activeRestaurant,showingInfoWindow:this.state.showingInfoWindow,zomatoAPICallsExceeded:this.state.zomatoAPICallsExceeded}))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={errMsg:"Cannot load Google Maps API. Please check your API key or try again later."},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",{className:"gmaps-error-message"},this.state.errMsg)}}]),t}(n.Component),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}window.gm_authFailure=function(){s.a.render(r.a.createElement(w,null),document.getElementById("root"))},s.a.render(r.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");E?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):k(t,e)})}}()}},[[14,2,1]]]);
//# sourceMappingURL=main.63af1556.chunk.js.map